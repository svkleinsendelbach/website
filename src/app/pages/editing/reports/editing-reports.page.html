<app-editing-navigation-bar
    backButtonLink="bearbeiten"
/>
<authentication-check
    [roles]="['websiteManager']"
    (onAuthentication)="getReports()"
>
    <text-section
        title="Berichte bearbeiten"
    >
        <p
            id="add-report"
            role="none"
            (click)="$event.preventDefault(); $event.stopPropagation(); addNewReport()"
        >Neuen Bericht hinzufügen</p>
        <p
            *ngIf="!reportGroups"
            class="text margin-top-large secondaryColor"
        >Berichte werden geladen</p>
        <div
            *ngFor="let reportGroup of reportGroups; trackBy: TrackBy.property('groupId')"
            class="report-group"
            [ngClass]="deviceType.current"
        >
        <p
            class="group-name textColor"
        >{{ reportGroupTitle[reportGroup.groupId] }}</p>
        <div
            *ngFor="let report of reportGroup.reports; trackBy: TrackBy.id"
            class="report"
        >
            <div
                class="title-container"
            >
                <p
                    class="title textColor"
                >{{ report.title }}</p>
                <p
                    class="message secondaryColor"
                >{{ report.message }}</p>
                </div>
                <p
                    class="edit-button primaryColor"
                    role="none"
                    (click)="$event.preventDefault(); $event.stopPropagation(); editReport(reportGroup.groupId, report)"
                >Bearbeiten</p>
                <p
                    class="delete-button primaryColor"
                    role="none"
                    (click)="$event.preventDefault(); $event.stopPropagation(); deleteReport(reportGroup.groupId, report.id)"
                >Löschen</p>
            </div>
        </div>
    </text-section>
</authentication-check>
