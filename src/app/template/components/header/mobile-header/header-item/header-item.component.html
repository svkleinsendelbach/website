<div
  id="header-item"
  [ngClass]="{
    expanded: expandedHeaderItemId === headerItem[0]
  }"
>

  <!-- Top item without sub items -->
  <a
    id="top-item"
    *ngIf="headerItem[1].subItems === undefined"
    href="{{ headerItem[1].topItem.link }}"
    target="{{ headerItem[1].topItem.target }}"
    title="{{ headerItem[1].topItem.title }}"
    [ngStyle]="{
      backgroundColor: styleConfig.backgroundColor.css(this.appearance.current)
    }"
  >
    <div
      id="top-item-text"
      [ngStyle]="{
        color: styleConfig.textColor.css(this.appearance.current)
      }"
    >{{ headerItem[1].topItem.title }}</div>
  </a>

  <!-- Top item with sub items -->
  <div
    id="top-item"
    *ngIf="headerItem[1].subItems !== undefined"
    (click)="$event.preventDefault(); $event.stopPropagation(); handleHeaderItemClick()"
    [ngStyle]="{
      backgroundColor: styleConfig.backgroundColor.css(this.appearance.current)
    }"
  >
    <div
      id="top-item-text"
      [ngStyle]="{
        color: styleConfig.textColor.css(this.appearance.current)
      }"
    >{{ headerItem[1].topItem.title }}</div>
    <fa-icon
      *ngIf="expandedHeaderItemId !== headerItem[0]"
      [icon]="faCaretDown"
      class="drop-down-arrow"
      [ngStyle]="{
        color: styleConfig.textColor.css(this.appearance.current)
      }"
    ></fa-icon>
    <fa-icon
      *ngIf="expandedHeaderItemId === headerItem[0]"
      [icon]="faCaretUp"
      class="drop-down-arrow"
      [ngStyle]="{
        color: styleConfig.textColor.css(this.appearance.current)
      }"
    ></fa-icon>
  </div>

  <!-- Sub items -->
  <div
    id="sub-items"
  >
    <div
      class="sub-item"
      *ngFor="let subItem of headerItem[1].subItems !== undefined ? Object.entries(headerItem[1].subItems) : []"
      [ngStyle]="{
        backgroundColor: styleConfig.backgroundColor.css(this.appearance.current)
      }"
    >
      <a
        class="sub-item-text"
        href="{{ subItem[1].link }}"
        target="{{ subItem[1].target }}"
        title="{{ subItem[1].title }}"
        [ngStyle]="{
          color: styleConfig.textColor.css(this.appearance.current)
        }"
      >{{ subItem[1].title }}</a>
    </div>
  </div>

</div>
