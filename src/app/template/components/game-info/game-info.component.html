<app-text-section
  *ngIf="FetchState.isLoading(gameInfo)"
  [title]="'Spiel Infos werden geladen'"
></app-text-section>
<app-text-section
  *ngIf="FetchState.isFailure(gameInfo)"
  [title]="'Spiel Infos konnten nicht geladen werden'"
>
  <p
    class="text large"
    [ngStyle]="{
      color: styleConfig.css('primaryColor')
    }"
  >Bitte landen Sie die Seite neu.</p>
</app-text-section>
<app-text-section
  *ngIf="FetchState.isSuccess(gameInfo)"
  [title]="FetchState.getContent(gameInfo).homeTeam.name + ' gegen ' + FetchState.getContent(gameInfo).awayTeam.name"
>
  <a
    id="competition"
    href="{{ FetchState.getContent(gameInfo).competition.link }}"
    title="{{ FetchState.getContent(gameInfo).competition.name }}"
    [ngStyle]="{
      color: styleConfig.css('primaryColor')
    }"
  >{{ FetchState.getContent(gameInfo).competition.name }}</a>
  <p
    id="game-day"
    [ngStyle]="{
      color: styleConfig.css('textColor')
    }"
  >{{ FetchState.getContent(gameInfo).competition.gameDay.toString() + '. Spieltag' }}</p>
  <p
    id="date"
    [ngStyle]="{
      color: styleConfig.css('textColor')
    }"
  >{{ gameDateDescription }}</p>
  <a
    id="adress"
    *ngIf="FetchState.getContent(gameInfo).adress !== undefined && FetchState.getContent(gameInfo).adressDescription !== undefined"
    href="{{ googleMapsLink(FetchState.getContent(gameInfo).adress!) }}"
    title="{{ FetchState.getContent(gameInfo).adressDescription }}"
    target="_blank"
    [ngStyle]="{
      color: styleConfig.css('primaryColor')
    }"
  >{{ FetchState.getContent(gameInfo).adressDescription }}</a>
  <p
    id="adress"
    class="no-link"
    *ngIf="FetchState.getContent(gameInfo).adress === undefined && FetchState.getContent(gameInfo).adressDescription !== undefined"
    [ngStyle]="{
      color: styleConfig.css('textColor')
    }"
  >{{ FetchState.getContent(gameInfo).adressDescription }}</p>
  <a
    id="adress-description"
    *ngIf="FetchState.getContent(gameInfo).adress !== undefined"
    href="{{ googleMapsLink(FetchState.getContent(gameInfo).adress!) }}"
    title="{{ FetchState.getContent(gameInfo).adressDescription ?? FetchState.getContent(gameInfo).adress }}"
    target="_blank"
    [ngStyle]="{
      color: styleConfig.css('primaryColor')
    }"
  >{{ FetchState.getContent(gameInfo).adress }}</a>
  <div
    id="result-container"
    [ngClass]="deviceType.className"
  >
    <div
      id="home-team"
    >
      <img
        id="home-team-image"
        src="{{ 'https://service-prod.bfv.de/export.media?action=getLogo&format=7&id=' + FetchState.getContent(gameInfo).homeTeam.imageId }}"
        title="{{ FetchState.getContent(gameInfo).homeTeam.name }}"
      >
      <p
        id="home-team-name"
        [ngStyle]="{
          color: styleConfig.css('textColor')
        }"
      >{{ FetchState.getContent(gameInfo).homeTeam.name }}</p>
    </div>
    <p
      id="result"
      [ngStyle]="{
        color: styleConfig.css('primaryColor')
      }"
    >{{ (FetchState.getContent(gameInfo).result.home?.toString() ?? '-') + ' : ' + (FetchState.getContent(gameInfo).result.away?.toString() ?? '-') }}</p>
    <div
      id="away-team"
    >
      <img
        id="away-team-image"
        src="{{ 'https://service-prod.bfv.de/export.media?action=getLogo&format=7&id=' + FetchState.getContent(gameInfo).awayTeam.imageId }}"
        title="{{ FetchState.getContent(gameInfo).awayTeam.name }}"
      >
      <p
        id="away-team-name"
        [ngStyle]="{
          color: styleConfig.css('textColor')
        }"
      >{{ FetchState.getContent(gameInfo).awayTeam.name }}</p>
    </div>
  </div>
  <select
    id="select-liveticker"
    *ngIf="FetchState.getContent(gameInfo).livetickers.length !== 0"
    disabled="{{ FetchState.getContent(gameInfo).livetickers.length !== 1 }}"
    (change)="selectLivetickerId($event)"
  >
    <option
      *ngFor="let liveticker of FetchState.getContent(gameInfo).livetickers; index as index"
      value="{{ liveticker.id }}"
    >{{ 'Liveticker ' + (index + 1).toString() }}</option>
  </select>
  <app-liveticker
    *ngIf="selectedLiveticker !== undefined"
    [liveticker]="selectedLiveticker"
  ></app-liveticker>
</app-text-section>
